@model ContactUs
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_SiteLayout.cshtml";
}

<section class="w3l-about-breadcrumb text-left">
    <div class="breadcrumb-bg breadcrumb-bg-about py-sm-5 py-4">
        <div class="container py-2">
            <h2 class="title">Bizimlə əlaqə</h2>
            <ul class="breadcrumbs-custom-path mt-2">
                <li><a href="/Default/Index">Ana səhifə</a></li>
                <li class="active"><span class="fa fa-arrow-right mx-2" aria-hidden="true"></span> Əlaqə </li>
            </ul>
        </div>
    </div>
</section>
<!-- //about breadcrumb -->
<!-- contact-form -->
<section class="w3l-contact" id="contact">
    <div class="contact-infubd py-5">
        <div class="container py-lg-3">
            <div class="contact-grids row">
                <div class="col-lg-6 contact-left">
                    <div class="partners">
                        <div class="cont-details">
                            <h5>Bizə yazın</h5>
                            <p class="mt-3 mb-4">
                                Təklifləriniz və iradlarınıza dəyər veririk!
                            </p>
                        </div>
                        <div class="hours">
                            <h6 class="mt-4">Email:</h6>
                            <p>
                                <a href="mailto:zairli.zahir@gmail.com">
                                    zairli.zahir@gmail.com
                                </a>
                            </p>
                            <h6 class="mt-4">Ünvan:</h6>
                            <p>Yasamal,Yeni Yasamal 2 6A</p>
                            <h6 class="mt-4">Contact:</h6>
                            <p class="margin-top"><a href="tel:+994513551006">+994-51-355-10-06</a></p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 mt-lg-0 mt-5 contact-right">

                    <div id="test"></div>
                    <form id="contactForm" action="/Contact/Index" method="post" class="signin-form">
                        <div class="input-grids">
                            <div class="form-group">
                                <input type="text" required asp-for="Name" id="w3lName" placeholder="Tam ad*" class="contact-input" />
                            </div>
                            <div class="form-group">
                                <input type="email" asp-for="Mail" id="w3lSender" placeholder="Email*" class="contact-input" required="" />
                            </div>
                            <div class="form-group">
                                <input type="text" required asp-for="Subject" id="w3lSubect" placeholder="Mövzu*" class="contact-input" />
                            </div>
                        </div>
                        <div class="form-group">
                            <textarea asp-for="Body" id="w3lMessage" placeholder="Mesaj*" required=""></textarea>
                        </div>
                        <div class="text-right">
                            <button class="btn btn-style btn-primary">Göndər</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="map mt-5 pt-md-5">
                <h5>Xəritə</h5>
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3038.604798511747!2d49.79004447503827!3d40.395450756935595!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40308768c13497eb%3A0x14cd184dbf935954!2sYeni%20Yasamal%202%2C%20Bak%C4%B1%2C%20Azerbaijan!5e0!3m2!1sen!2sca!4v1681750392266!5m2!1sen!2sca"
                        style="border:0" allowfullscreen=""></iframe>
            </div>
        </div>
</section>
<script>
    // this is the id of the form
    $("#contactForm").submit(function (e) {
        e.preventDefault(); // avoid to execute the actual submit of the form.
        e.stopImmediatePropagation();
        var form = $(this);
        var url = form.attr('action');
        $.ajax({
            type: "POST",
            url: url,
            data: form.serialize(), // serializes the form's elements.
            success: function () {
                var name = $('#w3lName').val();
                $('#test').html(`<div class="alert alert-success alert-dismissible fade show mt-2" role="alert"><strong>Təbrikllər ${name}!</strong>Mesajınız uğurla göndərildi.<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>`);
                $('#contactForm')[0].reset();
            }
        });
    });
</script>